<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ring</title>
    <!-- 引入font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <style>
        :root{
            --color-primary:#183165;
            /* var(--color-primary) */
            /* var(--color-secondary) */
            --color-secondary:#e6dac0;
        }
        body{
            background-image: url(./img/wallpaper2.png);
        }
        header{
            background-image: none;
            height: 70px;
        }
        .container{
            height: 70px;
            background-image: url(./img/wallpaper.webp);
            position: fixed;
        }
        .breadcrumb{
            color: #183165;
            display: flex;
        }
        .breadcrumb a{
            color: #183165;
        }
        .breadcrumb a:hover{
            border-bottom: #183165 1px solid;
        }
        .breadcrumb li:first-child:after{
            content: '\00A0\00A0/\00A0\00A0';
        }
        .product_container{
            width: 65%;
            margin: 0 auto;
            box-sizing: border-box;
        }
        .product_wrapper{
            display: grid;
            grid-template-columns: 45% 55%;
        }
        .goods_img{
            display: flex;
            flex-direction: column;
            
        }
        .manifier{
            width: 400px;
            height: 400px;
            position: relative;
        }
        /* .manifier>img{
            width: 100%;
        } */
        .magnifier_show{
            width: 400px;
            height: 400px;
            overflow: hidden;
            position: absolute;
            top: 0;
            left: 400px;
            opacity: 1;
            z-index: 2;
            display: none;
        }
        #manifier_img{
            width: 800px;
            height: 800px;
            position: absolute;
          
        }
        #img_mask{
            width: 200px;
            height: 200px;
            background-color: hsla(221, 62%, 25%, 0.397);
            /* border: #183165 5px solid; */
            position: absolute;
            display: none;
            /* top: 0; */
            /* left: 0; */

        }
        .originImg{
            background-image: url(./img/EternalNecklace/01.webp);
            width: 400px;
            height: 400px;
            background-position: center;
            background-size: cover;
            transition: background-image 0.3s ease-in-out;
        }
        .thumbnail{
            display: grid;
            /* grid-template-columns: repeat(4,calc((100% - 30px) / 4)); */
            grid-template-columns: repeat(4,85px);
            grid-template-rows: repeat(2,85px);
            /* grid-template-rows: repeat(2,calc((100% - 10px) / 2)); */
            gap: 20px;
            margin: 20px 0;
            /* width: 100px; */
            /* height: 100px; */
        }
        .thumbnail img{
            width: 100%;
            height: 100%;
            object-fit: cover;
            cursor: pointer;
            box-shadow: 2px 2px 10px  #888 ;
        }
        .thumbnail img:hover{
            transform: scale(1.1);
            transition: .5s;
        }
        .price{
            font-size: 1.3rem;
            font-weight: bold;
        }
        .colorBtn,#add_cart{
            border: none;
            background-color: var(--color-primary);
            color: #fff;
            width: 150px;
            padding: 10px;
            border-radius: 10px;   
            cursor: pointer;         
        }
        .colorBtn:hover,.input_group >button:hover{
            background-color: #fff;
            color: var(--color-primary);
        }
        label{
            display: block;
        }
        .input_group >button{
            border: none;
            width: 35px;
            height: 35px;
            cursor: pointer;
            background-color: var(--color-primary);
            color: #fff;
            border-radius: 5px;

        }
        #add_cart{
            display: block;
        }
        input[type="text"]{
            outline: none;
            text-align: center;
            height: 35px;
            border: none;
        }
        .good_describe{
            display: flex;
            flex-direction: column;
            text-align: center;
            width: 100%;
            align-items: center;


        }
        .good_describe >h4{
            width: 200px;
            color: var(--color-primary);
            font-size: 2rem;
            border-bottom: 3px solid var(--color-primary);
            padding: 20px;
        }
        .goods_box{
            position: relative;
        }
        .favorite{
            position: absolute;
            /* right: 0; */
            /* top: 0; */
            font-size: 2rem;
            color: red;
        }
        input[type="radio"]{
            display: none;
                
        }
        input[type="radio"]+label{
            background-color: var(--color-primary);
            color: #fff;
            width: 150px;
            padding: 10px;
            border-radius: 10px;   
            cursor: pointer;
                
        }

        input[type="radio"]+label:hover,input[type="radio"]:checked +label{
            color: var(--color-primary);
            background-color: #fff;
        }


        .cart_container{
            position: absolute;
            right: 0;
            top: 0;
            background-color: yellowgreen;
            width: 400px;
            height: 100%;
            z-index: 20;
            padding: 20px;
            text-align: center;
        }
        #cart_item{
            background-color: transparent;
            width: 100%;
            height: 100px;
            padding: 10px;
            display: grid;
            grid-template-columns: 120px 300px;
            grid-template-rows: repeat(2,1fr);
            align-items: center;
            justify-items: center;
        }
        #cart_img{
            width: 100px;
            height: 100px;
            background-position: center;
            background-size: cover;
            grid-row: 1/3;
            /* grid-column: 1/4; */
        }
        #cart_img img{
            /******test******/
            width: 100%;
        }
        #cartbtn_group>button{
            border: none;
            width: 30px;
            height: 30px;
            font-size: 1.2rem;
            cursor: pointer;
            background-color: var(--color-primary);
            color: #fff;
            border-radius: 50%;
        }
        #cartbtn_group>input{
            width: 20px;
            height: 20px;
            background-color: transparent;
            font-size: 1.2rem;
        }
        #cartbtn_group span+button{
            /* display: inline-block; */
            margin-left: 30px;
        }
        @media screen and (max-width:1400px) {
           
            
        }
        @media screen and (max-width:992px) {
          
            
        }
    </style>
</head>
<body>
    <header>
        <nav class="container">
                <a href="/index.html"><img class="logo" src="./img/logo.png"></a>
                <div class="menu ">
                    <ul class="social_icon">
                        <li>
                            <a href=""><i class="fa-brands fa-facebook"></i></a>
                        </li>
                        <li>
                            <a href=""><i class="fa-brands fa-instagram"></i></a>
                        </li>
                        <li>
                            <a href=""><i class="fa-brands fa-line"></i></a>
                        </li>
                        <li>
                            <a href=""><i class="fa-brands fa-twitter"></i></a>
                        </li>
                    </ul>
                    <ul class="menu_link">
                        <li class="dropdown_link flex-1">
                            <a href="product.html" data-menu_item="PRODUCT">PRODUCT</a>
                            <ul class="dropdown">
                                <li class="dropdown_item"><a href="">耳環 Earring</a></li>
                                <li class="dropdown_item"><a href="">耳夾 Earclip</a></li>
                                <li class="dropdown_item"><a href="">戒指 Rings</a></li>
                                <li class="dropdown_item"><a href="">項鍊 Necklaces</a></li>
                                <li class="dropdown_item"><a href="">手鍊 Bracelets</a></li>
                                <li class="dropdown_item"><a href="">訂婚鑽戒 Engagement Rings</a></li>
                                <li class="dropdown_item"><a href="">結婚對戒 Wedding Rings</a></li>
                            </ul>
                        </li>
                        <li class="dropdown_link flex-1">
                            <a href="made_to_order.html" data-menu_item="CONTACT">DESIGNS</a>
                            <ul class="dropdown">
                                <li class="dropdown_item"><a href="">結婚對戒 Wedding Rings</a></li>
                                <li class="dropdown_item"><a href="">訂婚鑽戒 Engagement Rings</a></li>
                                <li class="dropdown_item"><a href="">珠寶 Gems</a></li>
                                <li class="dropdown_item"><a href="">雕刻 Engraving</a></li>
                                <li class="dropdown_item"><a href="">客製化 Made To Order</a></li>
                            </ul>
                        </li>
                        <li class="flex-1"><a href="" data-menu_item="CONTACT">CONTACT</a></li>
                        <li class="flex-1"><a href="login.html" data-menu_item="LOGIN">LOGIN</a></li>
                    </ul>
                </div>
                <div class="menu_btn">
                    <span>MENU <i class="fa-solid fa-bars"></i></span>
                </div>
                <div class="menu_bg "></div>
        </nav>
    </header>
    <ol class="breadcrumb">
        <li><a href="./index.html">首頁</a></li>
        <li>食材宅配</li>
    </ol>
    <div class="product_container">
        <div class="product_wrapper">
           
            <div class="goods_img">
                <div class="manifier">
                    <div class="originImg">
                        <!-- <img src="./img/EternalNecklace/01.webp" alt=""> -->
                        <div id="img_mask"></div>
                    </div>
                    <div class="magnifier_show">
                        <img id="manifier_img" src="./img/EternalNecklace/01.webp" alt="">
                    </div>
                </div>
                <div class="thumbnail">
                    <!-- <img src="./img/EternalNecklace/01.webp" alt="">
                    <img src="./img/EternalNecklace/02.webp" alt="">
                    <img src="./img/EternalNecklace/03.webp" alt="">
                    <img src="./img/EternalNecklace/04.webp" alt="">
                    <img src="./img/EternalNecklace/05.webp" alt="">
                    <img src="./img/EternalNecklace/06.webp" alt="">
                    <img src="./img/EternalNecklace/07.webp" alt="">
                    <img src="./img/EternalNecklace/08.webp" alt="">
                    <img src="./img/EternalNecklace/09.webp" alt=""> -->
                </div>
              
            </div>
           

            <div class="goods_box">
                <h1 class="goods_title">[鋼飾] 永恆承諾鎖骨鍊 / 2色 / Eternal Commitment Necklace</h1>
                <p>全館兩件9折，優惠後特價 NT$327</p>
                <p>全館任選三件85折，優惠後特價 NT$309</p>
                <p>全館任選四件82折，優惠後特價 NT$298</p>
                <p class="price">NT$363</p>
                <p>顏色：</p>
                <!-- <button class="colorBtn">Silver / 銀色 </button> -->
                <!-- <button class="colorBtn">Rose Gold / 玫瑰金</button> -->
                <input type="radio" id="silver" name="color" value="silver">
                <label for="silver">Silver / 銀色</label>
                <input type="radio" id="roseGold" name="color" value="roseGold">
                <label for="roseGold">Rose Gold / 玫瑰金</label>

                <!-- <p></p> -->
                <div class="input_group">
                    <!-- <label for="quantity">數量</label>
                    <button id="minus_btn">-</button>
                    <input type="text" name="quantity" id="quantity" value="1">
                    <button id="plus_btn">+</button> -->
                    <button id="add_cart">加入購物車</button>
                </div>
                <div class="favorite"><i class="fa-regular fa-heart"></i></div>
            </div>

        </div>
        <div class="good_describe">
            <h4>商品描述</h4>
            <ul>
                <li>提供30日退換貨服務，請詳閱「售後服務」</li>
                <li>商品材質：鋯石 / 鋼</li>
                <li>項鍊總長SIZE約：41.4 cm (不含延長鍊)</li>
                <li>延長鍊SIZE長約：5.3 cm</li>
            </ul>
            <h4>商品展示</h4>
            <ul>
                <li><img src="./img/EternalNecklace/05.webp" alt=""></li>
                <li><img src="./img/EternalNecklace/07.webp" alt=""></li>
                <li><img src="./img/EternalNecklace/08.webp" alt=""></li>
                <li><img src="./img/EternalNecklace/09.webp" alt=""></li>
                <li><img src="./img/EternalNecklace/10.webp" alt=""></li>
                <li><img src="./img/EternalNecklace/06.webp" alt=""></li>
            </ul>
        </div>
    </div>
    <div class="cart_container">
        
        <div id="cart_item">

            <div id="cart_img">
                <!-- <img src="./img/EternalNecklace/01.webp" alt=""> -->
            </div>
            <!-- <div id="cartItem_title">${goodsTitle.innerText}</div> -->
            
            <!-- <div id="cartbtn_group"> -->
                <!-- <span id="total">${金額}</span> -->
                <!-- <button id="minus_btn">-</button> -->
                <!-- <input type="text" name="quantity" id="quantity" value="1"> -->
                <!-- <button id="plus_btn">+</button> -->
            <!-- </div> -->
        </div>
        <!-- <div id="cart_img"></div> -->
            <!-- <div id="cartItem_title"></div> -->
            <!-- <div id="cartbtn_group">   </div>-->
                
            
      
    </div>


    <div id="footer"></div>


    <script src="./js/header.js"></script>

    <script>
        let favoriteBtn = document.querySelector(".fa-heart");
        let imgMask = document.getElementById("img_mask");
        let originImg = document.querySelector(".originImg");
        let manifierImg = document.getElementById("manifier_img");
        let manifierShow = document.querySelector(".magnifier_show");
        let thumbnail = document.querySelector(".thumbnail");
        let goodsTitle = document.querySelector(".goods_title");
        let addCartBtn = document.getElementById("add_cart");
        let cartItemTitle = document.getElementById("cartItem_title");
        let silver = document.getElementById("silver");
        let roseGold = document.getElementById("roseGold");
        // let colorBtn = document.querySelectorAll('.colorBtn')
        let cartbtnGroup = document.getElementById('cartbtn_group')
        let cartItem = document.getElementById('cart_item')
        let originImgBgImg = window.getComputedStyle(originImg).getPropertyValue('background-image')
        let thumbnailArr = [
            "./img/EternalNecklace/01.webp",
            "./img/EternalNecklace/02.webp",
            "./img/EternalNecklace/03.webp",
            "./img/EternalNecklace/04.webp",
            "./img/EternalNecklace/05.webp",
            "./img/EternalNecklace/06.webp",
            "./img/EternalNecklace/07.webp",
            "./img/EternalNecklace/08.webp",
            "./img/EternalNecklace/09.webp"
        ]
        roseGold.onclick = ()=>{
            originImg.style.backgroundImage = `url(${thumbnailArr[0]})`
            // console.log(roseGold)
        }
        silver.onclick = ()=>{
            originImg.style.backgroundImage = `url(${thumbnailArr[1]})`
        }

        
        for(let i = 0;i <= thumbnailArr.length-1 ; i++){
            let myImg = document.createElement('img')
                myImg.setAttribute('src',thumbnailArr[i])
                thumbnail.appendChild(myImg)
                myImg.onclick = ()=>{
                    // let originImgBgImg = window.getComputedStyle(originImg).getPropertyValue('background-image')
                    originImg.style.backgroundImage = `url(${thumbnailArr[i]})`
                    manifierImg.src = thumbnailArr[i]
                }
        }   
        
        addCartBtn.onclick = ()=>{
               
               // cartImg.style.backgroundImage = `url(${thumbnailArr[1]})`
             
               // cartImg.style.backgroundImage = `url(${thumbnailArr[i]})`
          
           // cartItemTitle.innerText =  goodsTitle.innerText
            let num = 0

           cartItem.innerHTML = 
           ` <div id="cart_img"></div>
           <div id="cartItem_title">${goodsTitle.innerText}</div>
            
            <div id="cartbtn_group">
                <span id="total">${num * quantity.value}</span>
                <button id="minus_btn">-</button>
                <input type="text" name="quantity" id="quantity" value="1">
                <button id="plus_btn">+</button>
            </div>
            `
            let plusBtn = document.getElementById('plus_btn')
            let minusBtn = document.getElementById('minus_btn')
            let quantity = document.getElementById('quantity')
            plusBtn.onclick = ()=>{
                let currentNum = document.querySelector('#quantity').value
            
                quantity.value = `${parseInt(currentNum) + 1}`

            }
                // console.log(quantity.value)
            minusBtn.onclick = ()=>{
                let currentNum = parseInt(document.querySelector('#quantity').value)
                if(quantity.value == 0){quantity.value = 0}
                quantity.value == 0 ? quantity.value = 0 : quantity.value = currentNum - 1
                
            }
            let cartImg = document.getElementById("cart_img");

            cartImg.style.backgroundImage = `url(${thumbnailArr[1]})`

            

           
       }
       

        originImg.onmouseover = () =>{
            imgMask.style.display = 'block'
            manifierShow.style.display = 'block'
        }
        originImg.onmouseout = () =>{
            imgMask.style.display = 'none'
            manifierShow.style.display = 'none'
            
        }
        // coordinate:座標
        originImg.onmousemove = (coordinate)=>{
            // 圖片相對於視窗的位置
            let originImgCoordinate = originImg.getBoundingClientRect()
            // console.log('originImgCoordinate',originImgCoordinate)
            // console.log('coordinate.clientX',coordinate.clientX)
            let mouseX = coordinate.clientX - originImgCoordinate.left - 100
            let mouseY = coordinate.clientY - originImgCoordinate.top - 100
            // console.log(mouseX)
            
            if(mouseX >= 200){mouseX = 200}
            if(mouseX < 0){mouseX = 0}
            if(mouseY >= 200){mouseY = 200}
            if(mouseY < 0){mouseY = 0}
            imgMask.style.left = `${mouseX}px`
            imgMask.style.top = `${mouseY}px`

            let manifierImg2 = window.getComputedStyle(manifierImg).getPropertyValue('left')
            // console.log(manifierImg2)
            manifierImg.style.left = `${-2 * mouseX}px`
            manifierImg.style.top = `${-2 * mouseY}px`

            
        }

        manifierImg.onclick =()=>{
            // alert('0000')
        }


        favoriteBtn.addEventListener('click',()=>{
            if( favoriteBtn.classList.contains('fa-regular')){
                favoriteBtn.classList.toggle('fa-solid')
                // favoriteBtn.style.color = 'red'
            }
            
        })

        // window.onscroll = function() {
        //     var navbar = document.querySelector('.container');
        //     let logo = document.querySelector('.logo')
        //     if (window.pageYOffset > 0 ) {
        //         // navbar.style.height = "70px";  // 導航欄的高度變小
        //         navbar.style.backgroundColor = "#183165";    
        //         navbar.style.position = "fixed";  // 導航欄固定在頂部

        //     } 
        // }



        // 加載 footer.html
        fetch('footer.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('footer').innerHTML = html;
            });
    </script>
</body>
</html>